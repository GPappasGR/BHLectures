\chapter{SageMath computations} \label{s:sam}

\minitoc

\section{Introduction}


\textsf{SageMath} (\url{http://sagemath.org/}) is a modern free,
open-source mathematics software system, which is
based on the Python programming language. It makes use of over 90 open-source packages,
among which are \textsf{Maxima} and \textsf{Pynac} (symbolic calculations),
\textsf{GAP} (group theory),
\textsf{PARI/GP} (number theory), \textsf{Singular} (polynomial computations),
and \textsf{matplotlib} (high quality 2D figures).
\textsf{SageMath} provides a uniform Python interface to all these packages; however,
\textsf{SageMath} is much more than a mere interface: it contains a large and increasing part of
original code (more than 750,000 lines of Python and Cython, involving 5344 classes).
\textsf{SageMath} was created in 2005 by William Stein\index{Stein, W.} \cite{SteinJ05} and since
then its development has been sustained by more than a hundred researchers
(mostly mathematicians). Very good introductory textbooks about \textsf{SageMath} are
\cite{JoyneS14,Zimme13,Bard15}.

The \textsf{SageManifolds} project
provides \textsf{SageMath} with capability for differential geometry and tensor calculus
(\url{http://sagemanifolds.obspm.fr/}), which we are using here to perform
some computations related to the lectures.

There are basically two ways to use \textsf{SageMath}:
\begin{itemize}
\item Install it on your computer, by downloading the sources or a binary version
from \url{http://sagemath.org/} (the \textsf{SageManifolds} extensions towards
differential geometry are fully integrated in version 7.5 and higher)
\item Use it online at the \textsf{SageMathCloud}: \url{https://cloud.sagemath.com/}
\end{itemize}

\section{SageMath worksheets} \label{s:sam:worksheets}

The SageMath worksheets accompanying these lecture notes are available
at\\

\centerline{
\url{http://luth.obspm.fr/~luthier/gourgoulhon/bh16/sage.html}}

\subsection{The Schwarzschild horizon} \label{s:sam:Schwarz_hor}

This worksheet accompanies Chap.~\ref{s:def} in treating the future event horizon of
Schwarzschild spacetime in Eddington-Finkelstein coordinates as an example of null hypersurface:\\[1ex]
{\footnotesize
\url{http://nbviewer.jupyter.org/github/egourgoulhon/BHLectures/blob/master/sage/Schwarzschild_horizon.ipynb}
}

\subsection{Conformal completion of Minkowski spacetime}

This worksheet accompanies Chap.~\ref{s:glo}; in particular, it provides
many figures for Sec.~\ref{s:glo:conf_Mink}.\\[1ex]
{\footnotesize
\url{http://nbviewer.jupyter.org/github/egourgoulhon/BHLectures/blob/master/sage/conformal_Minkowski.ipynb}
}

\subsection{Solving Einstein equation: Kottler solution} \label{s:sam:Kottler_solution}


This worksheet accompanies Chap.~\ref{s:sch}: it computes the Kottler solution by solving the Einstein
equation for vacuum spherically symmetric spacetimes with a cosmological constant $\Lambda$,
yielding Schwarzschild solution in the special case $\Lambda=0$. \\[1ex]
{\footnotesize
\url{http://nbviewer.jupyter.org/github/egourgoulhon/BHLectures/blob/master/sage/Kottler_solution.ipynb}
}

\subsection{Radial null geodesics in Schwarzschild spacetime}

This worksheet accompanies Chap.~\ref{s:sch}: it provides figures based on
Schwarzschild-Droste coordinates and ingoing Eddington-Finkelstein coordinates.\\[1ex]
{\footnotesize
\url{http://nbviewer.jupyter.org/github/egourgoulhon/BHLectures/blob/master/sage/Schwarz_radial_null_geod.ipynb}
}

\subsection{Kruskal-Szekeres coordinates in Schwarzschild spacetime}

This worksheet accompanies Chap.~\ref{s:max}: it provides the figures based on
Kruskal-Szekeres coordinates.\\[1ex]
{\footnotesize
\url{http://nbviewer.jupyter.org/github/egourgoulhon/BHLectures/blob/master/sage/Schwarz_Kruskal_Szekeres.ipynb}
}

\subsection{Standard (singular) Carter-Penrose diagram of Schwarzschild spacetime}
\label{s:sam:std_Carter-Penrose}
This worksheet accompanies Chap.~\ref{s:max}: it provides the standard
Carter-Penrose diagram shown in Fig.~\ref{f:max:carter-penrose-std}.\\[1ex]
{\footnotesize
\url{http://nbviewer.jupyter.org/github/egourgoulhon/BHLectures/blob/master/sage/Schwarz_conformal_std.ipynb}
}

\subsection{Regular Carter-Penrose diagram of Schwarzschild spacetime}
\label{s:sam:reg_Carter-Penrose}
This worksheet accompanies Chap.~\ref{s:max}: it provides the regular
Carter-Penrose diagram shown in Fig.~\ref{f:max:carter-penrose-FN}.\\[1ex]
{\footnotesize
\url{http://nbviewer.jupyter.org/github/egourgoulhon/BHLectures/blob/master/sage/Schwarz_conformal.ipynb}
}

\subsection{Einstein-Rosen bridge in Schwarzschild spacetime}
\label{s:sam:Einstein-Rosen}
This worksheet accompanies Chap.~\ref{s:max}: it provides the
isometric embedding diagrams shown in Figs.~\ref{f:max:flamm_paraboloid}
to \ref{f:max:flamm_paraboloid_far}, as well as the associated
Kruskal diagram of Fig.~\ref{f:max:constant_T_slices}.\\[1ex]
{\footnotesize
\url{http://nbviewer.jupyter.org/github/egourgoulhon/BHLectures/blob/master/sage/Einstein-Rosen_bridge.ipynb}
}


\subsection{Kerr metric as a solution of Einstein equation} \label{s:sam:Kerr_solution}

This worksheet accompanies Chap.~\ref{s:ker}: the Kerr metric, expressed in Boyer-Lindquist
coordinates, is shown to be a solution of the vacuum Einstein equation. Moreover, the Kretschmann scalar is computed.\\[1ex]
{\footnotesize
\url{http://nbviewer.jupyter.org/github/egourgoulhon/BHLectures/blob/master/sage/Kerr_solution.ipynb}
}

\subsection{Kerr spacetime in 3+1 Kerr coordinates} \label{s:sam:Kerr_Kerr_coord}

This worksheet accompanies Chap.~\ref{s:ker}: the Kerr metric is expressed in 3+1 Kerr coordinates, the vacuum Einstein equation is checked, the outgoing and ingoing principal null geodesics are considered and the black hole surface gravity is computed.\\[1ex]
{\footnotesize
\url{http://nbviewer.jupyter.org/github/egourgoulhon/BHLectures/blob/master/sage/Kerr_in_Kerr_coord.ipynb}
}

\subsection{Lemaître-Tolman equations} \label{s:sam:Lemaitre-Tolman}

This worksheet accompanies Chap.~\ref{s:lem}: it provides the derivation
of the Lemaître-Tolman equations from the Einstein equation expressed in
Lemaître synchronous coordinates.\\[1ex]
{\footnotesize
\url{http://nbviewer.jupyter.org/github/egourgoulhon/BHLectures/blob/master/sage/Lemaitre_Tolman.ipynb}
}

\subsection{Trapping horizon in Vaidya spacetime} \label{s:sam:Vaidya_trapping}

This worksheet accompanies Chap.~\ref{s:loc}: the Vaidya metric is expressed in  Eddington-Finkelstein coordinates, the Einstein equation is checked, the outgoing and ingoing radial null geodesics are computed and the trapping horizon and the event
horizon are drawn in a spacetime diagram. \\[1ex]
{\footnotesize
\url{http://nbviewer.jupyter.org/github/egourgoulhon/BHLectures/blob/master/sage/Vaidya.ipynb}
}
